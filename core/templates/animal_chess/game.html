

{% extends "core/base.html" %}

{% load static %}

{% block header %}
    <link rel="stylesheet" href="{% static 'animal_chess/css/game.css' %}">
    <script type="text/javascript" src="{% static 'animal_chess/js/game.js' %}"></script>
{% endblock %}

{% block content %}
    <div class="top-container">
        {% if not game.player2 %}
            <p>Share the code to friend to play together <span id="game-id">{{ game.id }}</span></p>
        {% else %}
            <p>Welcome to game <span id="game-id">{{ game.id }}</span></p>
        {% endif %}
    </div>
    <div class="player-info-container">
        <div hidden id="player-name">{{ request.session.name }}</div>
        <div hidden id="player-id">{{ player_id }}</div>
        <div class="player1-container">
            {% if game.player1 %}
                <div id="player1-name" class="player-name inline-block">{{ game.player1.name }}</div>
                {% if player_id == game.player1.user_id %}
                    <a class="ready button inline-block" id="player-{{ game.player1.user_id }}"
                       title="{{ game.player1.user_id }}">Ready</a>
                {% endif %}
            {% endif %}
        </div>
        <div class="player2-container">
            {% if game.player2 %}
                <div id="player2-name" class="player-name inline-block">{{ game.player2.name }}</div>
                {% if player_id == game.player2.user_id %}
                    <a class="ready button inline-block" id="player-{{ game.player2.user_id }}"
                       title="{{ game.player2.user_id }}">Ready</a>
                {% endif %}
            {% endif %}
        </div>
    </div>
    <div class="board-container">
        {% include "animal_chess/board.html" %}
    </div>
    <div class="chat-container">
        <textarea id="chat-log" readonly></textarea><br>
        <input id="chat-message-input" type="text">
        <input id="chat-message-submit" type="button" value="Send">
        {{ game.id|json_script:"room-name" }}
    </div>
{% endblock %}